language: java
script: mvn clean install

env:
  global:
   # Secure is generated using command "travis encrypt COVERITY_SCAN_TOKEN=blah"
   # Need to "gem install travis" first
  - secure: "fE/+IU9evz5GoS93W3iIqRfOfGazYElG+ofL8wLBDurrUbyzZNdT368WJo8YAuxB0LfEyntAvYigKjtgNdSqEc/yje6Jy0sTIHNxyQT0rT85yvOuCuiDkRwu0HUM/Gb/f8WcjdpynOu9mHPKw/mTF7Fm0wId4KHl2TjT5vmRMRDI36gZrDnofG4qOAmg3BSCKfLgk+7bRWy7EApwI1l2lN17gFfzMiAPi24pqJur+NgeWMM1IJvroj3t0qAKrchTPOhBQyWnTQCLERQOTP2XLKbV10Ni0MFym/r2W55MihC/cd0djTc+9cFghiW5g2pfQznajp07hS5Ibokih1dFwMlYnKJzrEKZf5Y9RDwrXgemhnPcxWTLt+rZETFwHVvMn/LL/h7zEQgbQEIBIXZ7ArbxL/LSljbyYY51RY1td+lZgjrrT2qgcPhwjwLE62K8FZTiSZ/6O+mwmIIx+C8bz1xAeqzC95GAUYcBeaqCXEOKRqBGpuhgJUMgjvgbmCy9MOtuPAu3H803A/pQPrVi0caeNYXP3JGgh36g+P6uvZr15KuM9+sbFCUgsipeS3VR2+P1T3LB1xDXPPPs9YOsbIap/3XcSl1o7xlTc5lptpwSwdpL3cpSwV+M6Q4qdxI79ZHEGkQznWm1rHUQKzz3+POlbH76Dlma6bierxAXAy0="

addons:
  coverity_scan:
    project:
      name: "symphonyoss/helpdesk-bot"
      description: "Build submitted via Travis CI"
    notification_email: maurizio.pillitu@symphony.foundation
    build_command_prepend: "mvn clean"
    build_command:   "mvn -DskipTests=true install"
    branch_pattern: coverity_scan
